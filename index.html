<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Minecraft JSON Obfuscator (web) ‚Äî Custom Exclude</title>
  <style>
    :root{font-family:system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;}
    body{margin:16px;background:#f6f7fb;color:#111}
    h1{font-size:18px;margin:0 0 8px}
    p{margin:6px 0 12px;color:#333}
    textarea{width:100%;height:220px;padding:10px;border-radius:8px;border:1px solid #d0d4e0;box-sizing:border-box;font-family:monospace;white-space:pre-wrap}
    .row{display:flex;gap:8px;margin:8px 0}
    button{padding:8px 12px;border-radius:8px;border:0;background:#2563eb;color:#fff;cursor:pointer}
    button.secondary{background:#6b7280}
    label{display:flex;gap:8px;align-items:center}
    .small{font-size:13px;color:#444}
    footer{margin-top:12px;font-size:12px;color:#666}
    .split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .excludes{background:#fff;padding:10px;border-radius:8px;border:1px solid #e6e9f2}
    .exclude-item{display:flex;align-items:center;gap:8px;padding:6px 0;border-bottom:1px dashed #eef}
    .exclude-item:last-child{border-bottom:0}
    .pill{background:#eef2ff;padding:4px 8px;border-radius:999px;font-family:monospace}
    input[type=text]{padding:8px;border-radius:6px;border:1px solid #ccd3e6;width:100%}
    @media(max-width:800px){.split{grid-template-columns:1fr}textarea{height:180px}}
  </style>
</head>
<body>
  <h1>Minecraft JSON Obfuscator ‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏î‡πâ</h1>
  <p class="small">‡∏ß‡∏≤‡∏á JSON ‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ key/blocks ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ <strong>‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ (exclude)</strong> ‚Äî ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏ö‡πÅ‡∏ö‡∏ö custom ‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå</p>

  <div class="split">
    <div>
      <div class="small">Input JSON</div>
      <textarea id="input" placeholder='‡∏ß‡∏≤‡∏á JSON ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: paste ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå resource/behavior UI)'></textarea>
      <div class="row" style="margin-top:8px">
        <label><input type="checkbox" id="pretty" checked> Pretty print output</label>
        <label style="margin-left:auto"><input type="checkbox" id="keepOrder"> ‡πÄ‡∏Å‡πá‡∏ö‡∏•‡∏≥‡∏î‡∏±‡∏ö key ‡πÄ‡∏î‡∏¥‡∏° (‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏©‡∏≤)</label>
      </div>

      <div style="margin-top:10px" class="small">
        ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™: <code>@style.ui_elements</code>, <code>@button_style.description_panel</code>, <code>@button_style.button_grid</code>
      </div>
    </div>

    <div>
      <div class="small">Exclude (‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™) ‚Äî ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ</div>
      <div class="excludes" id="excludesBox">
        <!-- items here -->
      </div>
      <div class="row" style="margin-top:8px">
        <input type="text" id="newExclude" placeholder='‡∏û‡∏¥‡∏°‡∏û‡πå key ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: @style.ui_elements'>
        <button id="addExclude">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      </div>

      <div style="margin-top:12px">
        <div class="small">Output (‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ)</div>
        <textarea id="output" readonly placeholder="‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà"></textarea>
        <div class="row" style="margin-top:8px">
          <button id="go">Obfuscate</button>
          <button class="secondary" id="download">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î .json</button>
          <button class="secondary" id="clear">‡∏•‡πâ‡∏≤‡∏á</button>
        </div>
      </div>
    </div>
  </div>

  <footer>
    ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå JSON ‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô \uXXXX escapes (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏´‡∏ô‡∏î) ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏≤‡∏á‡πÅ‡∏ó‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô resource/behavior pack ‡∏Ç‡∏≠‡∏á Minecraft (Bedrock). ‡∏Å‡∏≤‡∏£ obfuscation ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏¢‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100%.
  </footer>

<script>
(function(){
  const input = document.getElementById('input');
  const output = document.getElementById('output');
  const go = document.getElementById('go');
  const downloadBtn = document.getElementById('download');
  const clearBtn = document.getElementById('clear');
  const pretty = document.getElementById('pretty');
  const keepOrder = document.getElementById('keepOrder');
  const excludesBox = document.getElementById('excludesBox');
  const newExclude = document.getElementById('newExclude');
  const addExcludeBtn = document.getElementById('addExclude');

  const STORAGE_KEY = 'mc_obfuscator_excludes_v1';

  // ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  let EXCLUDE_KEYS = [
    "@style.ui_elements",
    "@button_style.description_panel",
    "@button_style.button_grid"
  ];

  // ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å localStorage ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
  function loadExcludes(){
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      if(raw){
        const arr = JSON.parse(raw);
        if(Array.isArray(arr)) EXCLUDE_KEYS = arr;
      }
    }catch(e){ console.warn('loadExcludes error', e); }
    renderExcludes();
  }

  function saveExcludes(){
    try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(EXCLUDE_KEYS)); }
    catch(e){ console.warn('saveExcludes error', e); }
  }

  function renderExcludes(){
    excludesBox.innerHTML = '';
    if(EXCLUDE_KEYS.length === 0){ excludesBox.innerHTML = '<div class="small">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ exclude</div>'; return; }
    EXCLUDE_KEYS.forEach((k, idx) => {
      const div = document.createElement('div');
      div.className = 'exclude-item';
      const span = document.createElement('div');
      span.className = 'pill';
      span.textContent = k;
      const btn = document.createElement('button');
      btn.textContent = '‡∏•‡∏ö';
      btn.style.background = '#ef4444';
      btn.style.border = '0';
      btn.style.color = '#fff';
      btn.style.borderRadius = '6px';
      btn.style.padding = '6px 8px';
      btn.onclick = () => { EXCLUDE_KEYS.splice(idx,1); saveExcludes(); renderExcludes(); };
      div.appendChild(span);
      const spacer = document.createElement('div'); spacer.style.flex = '1';
      div.appendChild(spacer);
      div.appendChild(btn);
      excludesBox.appendChild(div);
    });
  }

  addExcludeBtn.addEventListener('click', ()=>{
    const v = newExclude.value.trim();
    if(!v){ alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå key ‡∏ó‡∏µ‡πà‡∏à‡∏∞ exclude'); return; }
    if(EXCLUDE_KEYS.includes(v)){ alert('‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß'); return; }
    EXCLUDE_KEYS.push(v);
    newExclude.value = '';
    saveExcludes();
    renderExcludes();
  });

  // ‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏ï‡∏£‡∏¥‡∏á‡πÄ‡∏õ‡πá‡∏ô \uXXXX (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö surrogate pair)
  function unicodeEscapeString(s){
    let out = '';
    for(const ch of s){
      const cp = ch.codePointAt(0);
      if(cp <= 0xFFFF){
        out += '\\u' + cp.toString(16).padStart(4,'0');
      } else {
        // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô code point ‡πÄ‡∏Å‡∏¥‡∏ô 0xFFFF ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô surrogate pair
        const v = cp - 0x10000;
        const high = 0xD800 + (v >> 10);
        const low = 0xDC00 + (v & 0x3FF);
        out += '\\u' + high.toString(16).padStart(4,'0') + '\\u' + low.toString(16).padStart(4,'0');
      }
    }
    return out;
  }

  // processObj ‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å obfuscate ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ serializer ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà escape backslashes ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
  function processObj(obj){
    if(Array.isArray(obj)){
      return obj.map(processObj);
    }
    if(obj && typeof obj === 'object'){
      const out = {};
      const keys = Object.keys(obj);
      for(const k of keys){
        if(EXCLUDE_KEYS.includes(k)){
          // ‡∏ñ‡πâ‡∏≤ key ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô exclude ‡πÉ‡∏´‡πâ‡∏Ñ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏° (‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ô)
          out[k] = obj[k];
        } else {
          const ek = unicodeEscapeString(k);
          out[ek] = processObj(obj[k]);
        }
      }
      return out;
    }
    if(typeof obj === 'string'){
      // ‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ marker ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ serialize ‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß
      return { __mc_obf: true, v: unicodeEscapeString(obj) };
    }
    return obj;
  }

  // Serializer ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Å‡∏≤‡∏£ escape ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ä‡πâ JSON.stringify ‡πÅ‡∏ï‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà obfuscated ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà \u... ‡∏•‡∏á‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå JSON ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
  function serialize(val, indentLevel){
    const indent = pretty.checked ? '  '.repeat(indentLevel) : '';
    const newline = pretty.checked ? '\n' : '';
    if(val === null) return 'null';

    // marker ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà obfuscated
    if(val && typeof val === 'object' && val.__mc_obf === true){
      const s = val.v.replace(/"/g,'\\"');
      return '"' + s + '"';
    }

    if(typeof val === 'string'){
      // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÉ‡∏´‡πâ JSON.stringify ‡πÄ‡∏û‡∏∑‡πà‡∏≠ escape \ " \n ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
      return JSON.stringify(val);
    }

    if(typeof val === 'number' || typeof val === 'boolean') return String(val);

    if(Array.isArray(val)){
      if(val.length === 0) return '[]';
      let parts = val.map(v => (pretty.checked ? indent + '  ' : '') + serialize(v, indentLevel+1));
      return '[' + newline + parts.join(',' + newline) + newline + indent + ']';
    }

    // object
    const keys = Object.keys(val);
    if(keys.length === 0) return '{}';
    let parts = keys.map(k => {
      // key ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ \u escapes ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡πá‡∏ô \u...) ‚Äî ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏Ñ‡πà escape double quote ‡πÉ‡∏ô key
      const keyText = '"' + k.replace(/"/g,'\\"') + '"';
      const v = val[k];
      const ser = serialize(v, indentLevel+1);
      return (pretty.checked ? indent + '  ' : '') + keyText + (pretty.checked ? ': ' : ':') + ser;
    });
    return '{' + newline + parts.join(',' + newline) + newline + indent + '}';
  }

  function run(){
    let txt = input.value.trim();
    if(!txt){ alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà JSON ‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏•‡∏á‡πÑ‡∏õ'); return; }
    let parsed;
    try{ parsed = JSON.parse(txt); } catch(e){ alert('JSON ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ' + e.message); return; }
    const processed = processObj(parsed);
    const outText = serialize(processed, 0);
    output.value = outText;
  }

  go.addEventListener('click', run);
  clearBtn.addEventListener('click', ()=>{ input.value=''; output.value=''; });
  downloadBtn.addEventListener('click', ()=>{
    if(!output.value) { alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡πâ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î'); return; }
    const blob = new Blob([output.value], {type:'application/json;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = 'obfuscated.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  });

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏™‡∏ó‡∏î‡∏™‡∏≠‡∏ö: emoji ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÑ‡∏ó‡∏¢)
  input.value = '{\n  "controls": [\n    { "@style.ui_elements": {} },\n    { "@button_style.description_panel": {} },\n    { "@button_style.button_grid": {} },\n    { "normalKey": "Hello" },\n    { "emojiKey": "üòÄ" },\n    { "thaiKey": "‡πÑ‡∏ó‡∏¢" }\n  ]\n}';

  loadExcludes();
})();
</script>
</body>
</html>
